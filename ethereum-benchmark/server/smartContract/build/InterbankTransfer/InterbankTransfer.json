{
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "BalanceUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "bankCode",
          "type": "string"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "transactionId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "fromBank",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "toBank",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "Transfer",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "bankAddress",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "bankCode",
          "type": "string"
        }
      ],
      "name": "addAuthorizedBank",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "authorizedBanks",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "balanceVerifier",
      "outputs": [
        {
          "internalType": "contract IBalanceVerifier",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "balances",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "bankCodes",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "recipients",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "string[]",
          "name": "toBankCodes",
          "type": "string[]"
        },
        {
          "internalType": "string[]",
          "name": "descriptions",
          "type": "string[]"
        }
      ],
      "name": "batchTransfer",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "recipients",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "string[]",
          "name": "toBankCodes",
          "type": "string[]"
        },
        {
          "internalType": "string[]",
          "name": "descriptions",
          "type": "string[]"
        },
        {
          "internalType": "uint256[]",
          "name": "proofAmounts",
          "type": "uint256[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "commitmentHashes",
          "type": "bytes32[]"
        },
        {
          "internalType": "bytes[]",
          "name": "proofBytesArray",
          "type": "bytes[]"
        }
      ],
      "name": "batchTransferWithZKP",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "checkTransferAuthorization",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "bankCode",
          "type": "string"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserPublicKey",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pkiEnabled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pkiRegistry",
      "outputs": [
        {
          "internalType": "contract IPKIRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pqcRegistry",
      "outputs": [
        {
          "internalType": "contract IPQCSignatureRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_balanceVerifier",
          "type": "address"
        }
      ],
      "name": "setBalanceVerifier",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_pkiRegistry",
          "type": "address"
        }
      ],
      "name": "setPKIRegistry",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_pqcRegistry",
          "type": "address"
        }
      ],
      "name": "setPQCRegistry",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bool",
          "name": "_enabled",
          "type": "bool"
        }
      ],
      "name": "togglePKI",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bool",
          "name": "_enabled",
          "type": "bool"
        }
      ],
      "name": "toggleZKP",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "transactionCounter",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "toBankCode",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        }
      ],
      "name": "transfer",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "toBankCode",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "bytes",
          "name": "pqcSignature",
          "type": "bytes"
        },
        {
          "internalType": "string",
          "name": "algorithm",
          "type": "string"
        }
      ],
      "name": "transferWithPQC",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "toBankCode",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "proofAmount",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "commitmentHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "proofBytes",
          "type": "bytes"
        }
      ],
      "name": "transferWithZKP",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        }
      ],
      "name": "withdraw",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "zkpEnabled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "devdoc": {
    "details": "Smart contract quản lý giao dịch liên ngân hàng với PKI integration. Thiết kế tối giản để không vượt giới hạn kích thước contract (EIP‑170): - KHÔNG lưu toàn bộ lịch sử giao dịch on-chain (chỉ emit events `Transfer`). - ZKP được verify off-chain (Winterfell), on-chain chỉ kiểm tra integrity inputs + gọi verifier tối giản. - PQC signatures được lưu trong contract riêng `PQCSignatureRegistry` (Interbank chỉ gọi registry).",
    "kind": "dev",
    "methods": {
      "addAuthorizedBank(address,string)": {
        "details": "Thêm bank được ủy quyền"
      },
      "batchTransfer(address[],uint256[],string[],string[])": {
        "details": "Batch transfer - OPTIMIZED for high TPS Gửi nhiều transfers trong một transaction để giảm gas cost và tăng TPS",
        "params": {
          "amounts": "Mảng số tiền tương ứng (trong wei)",
          "descriptions": "Mảng mô tả giao dịch",
          "recipients": "Mảng địa chỉ người nhận",
          "toBankCodes": "Mảng mã ngân hàng nhận"
        },
        "returns": {
          "_0": "transactionIds Mảng transaction IDs"
        }
      },
      "batchTransferWithZKP(address[],uint256[],string[],string[],uint256[],bytes32[],bytes[])": {
        "details": "Batch transfer with ZKP proofs - OPTIMIZED",
        "params": {
          "amounts": "Mảng số tiền",
          "commitmentHashes": "Mảng commitment hashes",
          "descriptions": "Mảng mô tả",
          "proofAmounts": "Mảng proof amounts",
          "proofBytesArray": "Mảng proof bytes",
          "recipients": "Mảng địa chỉ người nhận",
          "toBankCodes": "Mảng mã ngân hàng"
        },
        "returns": {
          "_0": "transactionIds Mảng transaction IDs"
        }
      },
      "checkTransferAuthorization(address,uint256)": {
        "details": "Check if user can transfer amount"
      },
      "deposit(address,string)": {
        "details": "Nạp tiền vào tài khoản (chỉ authorized banks)"
      },
      "getBalance(address)": {
        "details": "Lấy số dư của một address"
      },
      "getUserPublicKey(address)": {
        "details": "Get user's PQC public key from PKI"
      },
      "setBalanceVerifier(address)": {
        "details": "Set Balance Verifier address (only owner)"
      },
      "setPKIRegistry(address)": {
        "details": "Set PKI Registry address (only owner)"
      },
      "setPQCRegistry(address)": {
        "details": "Set PQC Signature Registry address (only owner)"
      },
      "togglePKI(bool)": {
        "details": "Toggle PKI enforcement"
      },
      "toggleZKP(bool)": {
        "details": "Toggle ZKP enforcement"
      },
      "transfer(address,uint256,string,string)": {
        "details": "Chuyển tiền liên ngân hàng",
        "params": {
          "amount": "Số tiền (trong wei)",
          "description": "Mô tả giao dịch",
          "to": "Địa chỉ người nhận",
          "toBankCode": "Mã ngân hàng nhận"
        },
        "returns": {
          "_0": "transactionId ID của giao dịch"
        }
      },
      "transferWithPQC(address,uint256,string,string,bytes,string)": {
        "details": "Chuyển tiền với PQC signature (lưu signature on-chain)",
        "params": {
          "algorithm": "PQC algorithm name (e.g., \"Dilithium3\")",
          "amount": "Số tiền (trong wei)",
          "description": "Mô tả giao dịch",
          "pqcSignature": "PQC signature (Base64 encoded bytes)",
          "to": "Địa chỉ người nhận",
          "toBankCode": "Mã ngân hàng nhận"
        },
        "returns": {
          "_0": "transactionId ID của giao dịch"
        }
      },
      "transferWithZKP(address,uint256,string,string,uint256,bytes32,bytes)": {
        "details": "Chuyển tiền với ZKP proof (balance > amount)",
        "params": {
          "amount": "Số tiền (trong wei)",
          "commitmentHash": "Hash của balance commitment",
          "description": "Mô tả giao dịch",
          "proofAmount": "Số tiền trong proof",
          "proofBytes": "Proof bytes từ ZKP prover",
          "to": "Địa chỉ người nhận",
          "toBankCode": "Mã ngân hàng nhận"
        },
        "returns": {
          "_0": "transactionId ID của giao dịch"
        }
      },
      "withdraw(uint256,string)": {
        "details": "Rút tiền từ contract (withdraw)",
        "params": {
          "amount": "Số tiền cần rút (trong wei)",
          "description": "Mô tả giao dịch rút tiền"
        },
        "returns": {
          "_0": "transactionId ID của giao dịch"
        }
      }
    },
    "title": "InterbankTransfer",
    "version": 1
  },
  "evm": {
    "methodIdentifiers": {
      "addAuthorizedBank(address,string)": "c559e45d",
      "authorizedBanks(address)": "a2969820",
      "balanceVerifier()": "6c8d3323",
      "balances(address)": "27e235e3",
      "bankCodes(address)": "392c5bd8",
      "batchTransfer(address[],uint256[],string[],string[])": "e3dd44fd",
      "batchTransferWithZKP(address[],uint256[],string[],string[],uint256[],bytes32[],bytes[])": "a6ce7a64",
      "checkTransferAuthorization(address,uint256)": "cf048bed",
      "deposit(address,string)": "b7482509",
      "getBalance(address)": "f8b2cb4f",
      "getUserPublicKey(address)": "11231fe0",
      "owner()": "8da5cb5b",
      "pkiEnabled()": "12715414",
      "pkiRegistry()": "a7b4ce78",
      "pqcRegistry()": "a4e35438",
      "setBalanceVerifier(address)": "77f22815",
      "setPKIRegistry(address)": "222e1a44",
      "setPQCRegistry(address)": "a61b6683",
      "togglePKI(bool)": "4f480ae2",
      "toggleZKP(bool)": "88f6458a",
      "transactionCounter()": "14e887e8",
      "transfer(address,uint256,string,string)": "e9c02815",
      "transferWithPQC(address,uint256,string,string,bytes,string)": "439edf63",
      "transferWithZKP(address,uint256,string,string,uint256,bytes32,bytes)": "f11a4363",
      "withdraw(uint256,string)": "dc048cf2",
      "zkpEnabled()": "99010a3f"
    }
  },
  "metadata": "{\"compiler\":{\"version\":\"0.8.10+commit.fc410830\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newBalance\",\"type\":\"uint256\"}],\"name\":\"BalanceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"bankCode\",\"type\":\"string\"}],\"name\":\"Deposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"transactionId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"fromBank\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"toBank\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"bankAddress\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"bankCode\",\"type\":\"string\"}],\"name\":\"addAuthorizedBank\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"authorizedBanks\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"balanceVerifier\",\"outputs\":[{\"internalType\":\"contract IBalanceVerifier\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"bankCodes\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"recipients\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"},{\"internalType\":\"string[]\",\"name\":\"toBankCodes\",\"type\":\"string[]\"},{\"internalType\":\"string[]\",\"name\":\"descriptions\",\"type\":\"string[]\"}],\"name\":\"batchTransfer\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"recipients\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"},{\"internalType\":\"string[]\",\"name\":\"toBankCodes\",\"type\":\"string[]\"},{\"internalType\":\"string[]\",\"name\":\"descriptions\",\"type\":\"string[]\"},{\"internalType\":\"uint256[]\",\"name\":\"proofAmounts\",\"type\":\"uint256[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"commitmentHashes\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes[]\",\"name\":\"proofBytesArray\",\"type\":\"bytes[]\"}],\"name\":\"batchTransferWithZKP\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"checkTransferAuthorization\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"bankCode\",\"type\":\"string\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getUserPublicKey\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pkiEnabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pkiRegistry\",\"outputs\":[{\"internalType\":\"contract IPKIRegistry\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pqcRegistry\",\"outputs\":[{\"internalType\":\"contract IPQCSignatureRegistry\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_balanceVerifier\",\"type\":\"address\"}],\"name\":\"setBalanceVerifier\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_pkiRegistry\",\"type\":\"address\"}],\"name\":\"setPKIRegistry\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_pqcRegistry\",\"type\":\"address\"}],\"name\":\"setPQCRegistry\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_enabled\",\"type\":\"bool\"}],\"name\":\"togglePKI\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_enabled\",\"type\":\"bool\"}],\"name\":\"toggleZKP\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"transactionCounter\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"toBankCode\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"toBankCode\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"pqcSignature\",\"type\":\"bytes\"},{\"internalType\":\"string\",\"name\":\"algorithm\",\"type\":\"string\"}],\"name\":\"transferWithPQC\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"toBankCode\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"proofAmount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"commitmentHash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"proofBytes\",\"type\":\"bytes\"}],\"name\":\"transferWithZKP\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"}],\"name\":\"withdraw\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"zkpEnabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Smart contract qu\\u1ea3n l\\u00fd giao d\\u1ecbch li\\u00ean ng\\u00e2n h\\u00e0ng v\\u1edbi PKI integration. Thi\\u1ebft k\\u1ebf t\\u1ed1i gi\\u1ea3n \\u0111\\u1ec3 kh\\u00f4ng v\\u01b0\\u1ee3t gi\\u1edbi h\\u1ea1n k\\u00edch th\\u01b0\\u1edbc contract (EIP\\u2011170): - KH\\u00d4NG l\\u01b0u to\\u00e0n b\\u1ed9 l\\u1ecbch s\\u1eed giao d\\u1ecbch on-chain (ch\\u1ec9 emit events `Transfer`). - ZKP \\u0111\\u01b0\\u1ee3c verify off-chain (Winterfell), on-chain ch\\u1ec9 ki\\u1ec3m tra integrity inputs + g\\u1ecdi verifier t\\u1ed1i gi\\u1ea3n. - PQC signatures \\u0111\\u01b0\\u1ee3c l\\u01b0u trong contract ri\\u00eang `PQCSignatureRegistry` (Interbank ch\\u1ec9 g\\u1ecdi registry).\",\"kind\":\"dev\",\"methods\":{\"addAuthorizedBank(address,string)\":{\"details\":\"Th\\u00eam bank \\u0111\\u01b0\\u1ee3c \\u1ee7y quy\\u1ec1n\"},\"batchTransfer(address[],uint256[],string[],string[])\":{\"details\":\"Batch transfer - OPTIMIZED for high TPS G\\u1eedi nhi\\u1ec1u transfers trong m\\u1ed9t transaction \\u0111\\u1ec3 gi\\u1ea3m gas cost v\\u00e0 t\\u0103ng TPS\",\"params\":{\"amounts\":\"M\\u1ea3ng s\\u1ed1 ti\\u1ec1n t\\u01b0\\u01a1ng \\u1ee9ng (trong wei)\",\"descriptions\":\"M\\u1ea3ng m\\u00f4 t\\u1ea3 giao d\\u1ecbch\",\"recipients\":\"M\\u1ea3ng \\u0111\\u1ecba ch\\u1ec9 ng\\u01b0\\u1eddi nh\\u1eadn\",\"toBankCodes\":\"M\\u1ea3ng m\\u00e3 ng\\u00e2n h\\u00e0ng nh\\u1eadn\"},\"returns\":{\"_0\":\"transactionIds M\\u1ea3ng transaction IDs\"}},\"batchTransferWithZKP(address[],uint256[],string[],string[],uint256[],bytes32[],bytes[])\":{\"details\":\"Batch transfer with ZKP proofs - OPTIMIZED\",\"params\":{\"amounts\":\"M\\u1ea3ng s\\u1ed1 ti\\u1ec1n\",\"commitmentHashes\":\"M\\u1ea3ng commitment hashes\",\"descriptions\":\"M\\u1ea3ng m\\u00f4 t\\u1ea3\",\"proofAmounts\":\"M\\u1ea3ng proof amounts\",\"proofBytesArray\":\"M\\u1ea3ng proof bytes\",\"recipients\":\"M\\u1ea3ng \\u0111\\u1ecba ch\\u1ec9 ng\\u01b0\\u1eddi nh\\u1eadn\",\"toBankCodes\":\"M\\u1ea3ng m\\u00e3 ng\\u00e2n h\\u00e0ng\"},\"returns\":{\"_0\":\"transactionIds M\\u1ea3ng transaction IDs\"}},\"checkTransferAuthorization(address,uint256)\":{\"details\":\"Check if user can transfer amount\"},\"deposit(address,string)\":{\"details\":\"N\\u1ea1p ti\\u1ec1n v\\u00e0o t\\u00e0i kho\\u1ea3n (ch\\u1ec9 authorized banks)\"},\"getBalance(address)\":{\"details\":\"L\\u1ea5y s\\u1ed1 d\\u01b0 c\\u1ee7a m\\u1ed9t address\"},\"getUserPublicKey(address)\":{\"details\":\"Get user's PQC public key from PKI\"},\"setBalanceVerifier(address)\":{\"details\":\"Set Balance Verifier address (only owner)\"},\"setPKIRegistry(address)\":{\"details\":\"Set PKI Registry address (only owner)\"},\"setPQCRegistry(address)\":{\"details\":\"Set PQC Signature Registry address (only owner)\"},\"togglePKI(bool)\":{\"details\":\"Toggle PKI enforcement\"},\"toggleZKP(bool)\":{\"details\":\"Toggle ZKP enforcement\"},\"transfer(address,uint256,string,string)\":{\"details\":\"Chuy\\u1ec3n ti\\u1ec1n li\\u00ean ng\\u00e2n h\\u00e0ng\",\"params\":{\"amount\":\"S\\u1ed1 ti\\u1ec1n (trong wei)\",\"description\":\"M\\u00f4 t\\u1ea3 giao d\\u1ecbch\",\"to\":\"\\u0110\\u1ecba ch\\u1ec9 ng\\u01b0\\u1eddi nh\\u1eadn\",\"toBankCode\":\"M\\u00e3 ng\\u00e2n h\\u00e0ng nh\\u1eadn\"},\"returns\":{\"_0\":\"transactionId ID c\\u1ee7a giao d\\u1ecbch\"}},\"transferWithPQC(address,uint256,string,string,bytes,string)\":{\"details\":\"Chuy\\u1ec3n ti\\u1ec1n v\\u1edbi PQC signature (l\\u01b0u signature on-chain)\",\"params\":{\"algorithm\":\"PQC algorithm name (e.g., \\\"Dilithium3\\\")\",\"amount\":\"S\\u1ed1 ti\\u1ec1n (trong wei)\",\"description\":\"M\\u00f4 t\\u1ea3 giao d\\u1ecbch\",\"pqcSignature\":\"PQC signature (Base64 encoded bytes)\",\"to\":\"\\u0110\\u1ecba ch\\u1ec9 ng\\u01b0\\u1eddi nh\\u1eadn\",\"toBankCode\":\"M\\u00e3 ng\\u00e2n h\\u00e0ng nh\\u1eadn\"},\"returns\":{\"_0\":\"transactionId ID c\\u1ee7a giao d\\u1ecbch\"}},\"transferWithZKP(address,uint256,string,string,uint256,bytes32,bytes)\":{\"details\":\"Chuy\\u1ec3n ti\\u1ec1n v\\u1edbi ZKP proof (balance > amount)\",\"params\":{\"amount\":\"S\\u1ed1 ti\\u1ec1n (trong wei)\",\"commitmentHash\":\"Hash c\\u1ee7a balance commitment\",\"description\":\"M\\u00f4 t\\u1ea3 giao d\\u1ecbch\",\"proofAmount\":\"S\\u1ed1 ti\\u1ec1n trong proof\",\"proofBytes\":\"Proof bytes t\\u1eeb ZKP prover\",\"to\":\"\\u0110\\u1ecba ch\\u1ec9 ng\\u01b0\\u1eddi nh\\u1eadn\",\"toBankCode\":\"M\\u00e3 ng\\u00e2n h\\u00e0ng nh\\u1eadn\"},\"returns\":{\"_0\":\"transactionId ID c\\u1ee7a giao d\\u1ecbch\"}},\"withdraw(uint256,string)\":{\"details\":\"R\\u00fat ti\\u1ec1n t\\u1eeb contract (withdraw)\",\"params\":{\"amount\":\"S\\u1ed1 ti\\u1ec1n c\\u1ea7n r\\u00fat (trong wei)\",\"description\":\"M\\u00f4 t\\u1ea3 giao d\\u1ecbch r\\u00fat ti\\u1ec1n\"},\"returns\":{\"_0\":\"transactionId ID c\\u1ee7a giao d\\u1ecbch\"}}},\"title\":\"InterbankTransfer\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"InterbankTransfer.sol\":\"InterbankTransfer\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"InterbankTransfer.sol\":{\"keccak256\":\"0xd2d38eeb99f0916d568c96c1dbf00fdaaa43db613cb6f4b480d12ae4d7eaa59c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ce9821e53ed0886049ef1bee31193870ce9d72331d2e7c0728d3a95cff3ab675\",\"dweb:/ipfs/QmUokAtYwfDcQxnov2m4ytFXpdorbgn4QmbQUJReV6BzRv\"]}},\"version\":1}",
  "storageLayout": {
    "storage": [
      {
        "astId": 330,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "pkiRegistry",
        "offset": 0,
        "slot": "0",
        "type": "t_contract(IPKIRegistry)289"
      },
      {
        "astId": 332,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "pkiEnabled",
        "offset": 20,
        "slot": "0",
        "type": "t_bool"
      },
      {
        "astId": 335,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "balanceVerifier",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(IBalanceVerifier)315"
      },
      {
        "astId": 337,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "zkpEnabled",
        "offset": 20,
        "slot": "1",
        "type": "t_bool"
      },
      {
        "astId": 340,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "pqcRegistry",
        "offset": 0,
        "slot": "2",
        "type": "t_contract(IPQCSignatureRegistry)326"
      },
      {
        "astId": 344,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "balances",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 348,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "bankCodes",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_string_storage)"
      },
      {
        "astId": 350,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "transactionCounter",
        "offset": 0,
        "slot": "5",
        "type": "t_uint256"
      },
      {
        "astId": 384,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "owner",
        "offset": 0,
        "slot": "6",
        "type": "t_address"
      },
      {
        "astId": 388,
        "contract": "InterbankTransfer.sol:InterbankTransfer",
        "label": "authorizedBanks",
        "offset": 0,
        "slot": "7",
        "type": "t_mapping(t_address,t_bool)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(IBalanceVerifier)315": {
        "encoding": "inplace",
        "label": "contract IBalanceVerifier",
        "numberOfBytes": "20"
      },
      "t_contract(IPKIRegistry)289": {
        "encoding": "inplace",
        "label": "contract IPKIRegistry",
        "numberOfBytes": "20"
      },
      "t_contract(IPQCSignatureRegistry)326": {
        "encoding": "inplace",
        "label": "contract IPQCSignatureRegistry",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_address,t_string_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => string)",
        "numberOfBytes": "32",
        "value": "t_string_storage"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  }
}
